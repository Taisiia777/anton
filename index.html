<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Mamostore - Clash Royale Gems</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- EmailJS (v3) -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  <!-- Конфетти -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

  <style>
    :root {
      --bg-color: #f2f2f2;
      --text-color: #333333;
      --header-bg: #111111;
      --header-text: #ffffff;
      --card-bg: #5fc9f8; /* Голубой для Clash Royale */
      --card-text: #333333;
      --primary-color: #2196f3; /* Синий для Clash Royale */
      --secondary-color: #ffc107; /* Желтый для Clash Royale */
      --accent-color: #ff9800; /* Оранжевый для Clash Royale */
      --footer-bg: #111111;
      --footer-text: #ffffff;
    }
    /* ОБЩИЕ СТИЛИ */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      text-decoration: none;
    }
    html {
      scroll-behavior: smooth;
    }
    body {
      font-family: Arial, sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      transition: background 0.3s, color 0.3s;
    }
    .container { 
      width: 90%; 
      max-width: 1200px; 
      margin: 0 auto;
    }

    /* HEADER */
    .header {
      background: var(--header-bg); 
      color: var(--header-text);
      padding: 10px 0; 
      position: sticky; 
      top: 0; 
      z-index: 999;
      transition: background 0.3s;
    }
    .nav {
      display: flex; 
      justify-content: space-between; 
      align-items: center;
    }
    .nav-menu {
      list-style: none; 
      display: flex; 
      gap: 20px;
    }
    .nav-menu li a {
      color: var(--header-text); 
      font-weight: bold; 
      text-transform: uppercase;
      transition: color 0.3s;
    }
    .nav-menu li a:hover {
      color: var(--primary-color);
    }
    .logo img {
      height: 40px;
    }

    /* THEME SWITCH */
    .theme-switch {
      display: inline-flex; 
      align-items: center;
    }
    .theme-icon {
      font-size: 18px; 
      margin-right: 5px;
    }
    .switch {
      position: relative; 
      display: inline-block; 
      width: 50px; 
      height: 24px;
    }
    .switch input {
      opacity: 0; 
      width: 0; 
      height: 0;
    }
    .slider {
      position: absolute; 
      cursor: pointer;
      top: 0; left: 0; right: 0; bottom: 0;
      background-color: #ccc;
      transition: .4s;
      border-radius: 24px;
    }
    .slider:before {
      position: absolute; 
      content: ""; 
      height: 16px; 
      width: 16px;
      left: 4px; bottom: 4px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
    }
    input:checked + .slider {
      background-color: var(--primary-color);
    }
    input:checked + .slider:before {
      transform: translateX(26px);
    }

    /* HERO */
    .hero {
      height: 70vh; 
      min-height: 400px; 
      display: flex; 
      align-items: center;
      background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), 
                url(https://i.imgur.com/AupYuJH.jpg) no-repeat center/cover;
      color: white; 
      text-align: center;
    }
    .hero h1 {
      font-size: 3em; 
      margin-bottom: 20px;
    }
    .hero p {
      font-size: 1.2em; 
      margin-bottom: 30px;
    }
    .btn {
      background: var(--primary-color); 
      color: white;
      padding: 12px 28px; 
      border-radius: 30px; 
      font-weight: bold;
      transition: transform 0.3s, background 0.3s;
      display: inline-block;
    }
    .btn:hover {
      transform: scale(1.05); 
      background: #d00;
    }

    /* КАТАЛОГ */
    .catalog {
      padding: 60px 0;
    }
    .catalog h2 {
      text-align: center; 
      margin-bottom: 40px;
    }
    .product-list {
      display: flex; 
      flex-wrap: wrap; 
      justify-content: center; 
      gap: 30px;
    }
    .product-card {
      background: var(--card-bg); 
      border-radius: 10px;
      width: 220px; 
      padding: 20px; 
      text-align: center;
      transition: transform 0.3s;
      color: var(--card-text);
    }
    .product-card:hover {
      transform: translateY(-5px);
    }
    .product-card img {
      width: 80%; 
      max-height: 150px; 
      object-fit: contain;
      margin-bottom: 10px;
    }
    .product-card h3 {
      font-size: 1.1em; 
      margin-bottom: 5px;
    }
    .product-card p {
      font-size: 0.9em; 
      margin-bottom: 10px;
    }
    .price {
      font-weight: bold; 
      font-size: 1.2em;
      margin-bottom: 15px; 
      color: var(--primary-color);
    }
    .button-row {
      display: flex; 
      justify-content: space-between;
    }
    .button-row button {
      flex: 1; 
      padding: 8px 5px; 
      border: none; 
      border-radius: 5px;
      cursor: pointer; 
      font-weight: bold; 
      transition: background 0.3s;
    }
    .details-btn {
      background: #555; 
      color: #fff;
    }
    .details-btn:hover { background: #333; }
    .buy-btn {
      background: var(--secondary-color); 
      color: #fff;
    }
    .buy-btn:hover {
      background: var(--accent-color);
    }

    /* INFO */
    .info {
      padding: 40px 0;
    }
    .info h2 {
      text-align: center; 
      margin-bottom: 20px;
    }
    .info ol {
      list-style: decimal; 
      margin-left: 40px; 
      margin-top: 10px;
    }
    .info ol li {
      margin-bottom: 10px;
    }

    /* SUPPORT */
    .support {
      padding: 40px 0; 
      text-align: center;
    }
    .support h2 {
      margin-bottom: 20px;
    }
    .support-icons {
      display: flex; 
      justify-content: center; 
      gap: 30px; 
      flex-wrap: wrap;
      margin-top: 20px;
    }
    .support-icons a {
      display: flex;
      flex-direction: column;
      align-items: center;
      color: var(--text-color);
      transition: transform 0.3s;
    }
    .support-icons a:hover {
      transform: scale(1.1);
    }
    .support-icons img {
      width: 50px; 
      height: 50px; 
      margin-bottom: 10px;
    }

    /* SECTION BLOCK */
    .section-block {
      padding: 60px 0; 
      background: #fafafa;
    }
    .section-block h1 {
      text-align: center; 
      margin-bottom: 20px;
    }
    .section-block p {
      text-align: center; 
      max-width: 800px; 
      margin: 0 auto;
      line-height: 1.6;
    }

    /* FOOTER */
    .footer {
      background: var(--footer-bg);
      color: var(--footer-text);
      text-align: center; 
      padding: 20px 0; 
      margin-top: 40px;
      transition: background 0.3s;
    }
    .footer a {
      color: var(--footer-text);
      text-decoration: underline;
    }
    .disclaimer {
      margin-top: 10px; 
      font-size: 0.9em; 
      color: #bbb;
    }

    /* MODAL (ОПЛАТА) */
    .modal-overlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.6); display: none; align-items: center;
      justify-content: center; z-index: 1000;
    }
    .modal-overlay.show {
      display: flex;
    }
    .modal {
      background: var(--bg-color); color: var(--text-color);
      padding: 20px; border-radius: 8px; 
      width: 90%; max-width: 450px;
      position: relative;
    }
    .close-btn {
      position: absolute; top: 10px; right: 10px;
      background: none; border: none; color: var(--text-color);
      font-size: 24px; cursor: pointer;
    }
    h3 {
      margin-bottom: 15px;
    }
    label {
      display: block; 
      margin: 10px 0 5px;
    }
    .input-text {
      width: 100%; padding: 8px; margin-bottom: 15px;
      border: 1px solid #ccc; border-radius: 4px;
    }
    .generate-btn, .check-btn {
      background: var(--primary-color); color: #fff; padding: 10px; border: none;
      cursor: pointer; transition: background 0.3s; display: inline-block;
      margin-right: 10px; margin-top: 5px;
    }
    .generate-btn:hover, .check-btn:hover {
      background: #d00;
    }
    #statusMsg {
      margin-top: 10px; font-weight: bold; white-space: pre-wrap;
    }
    .qr-section {
      margin-top: 15px; text-align: center; display: none;
    }
    .qr-section img {
      margin: 10px 0; max-width: 200px;
    }
    .link-result {
      word-break: break-all; font-size: 14px; color: var(--secondary-color);
    }
    .link-result a {
      color: var(--secondary-color); text-decoration: underline;
    }

    /* MODAL ДЕТАЛЕЙ (ОТЗЫВЫ) */
    .product-details-overlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.6); display: none; align-items: center;
      justify-content: center; z-index: 1000;
    }
    .product-details-overlay.show {
      display: flex;
    }
    .product-details-modal {
      background: var(--bg-color); color: var(--text-color);
      padding: 20px; border-radius: 8px; 
      width: 90%; max-width: 500px;
      position: relative;
    }
    .details-close-btn {
      position: absolute; top: 10px; right: 10px;
      background: none; border: none; color: var(--text-color);
      font-size: 24px; cursor: pointer;
    }
    .review-list {
      margin: 15px 0;
      max-height: 200px;
      overflow-y: auto;
    }
    .no-reviews {
      color: #777;
      font-style: italic;
    }
    .review-item {
      margin-bottom: 10px;
      padding: 10px;
      border-radius: 4px;
      background: rgba(0,0,0,0.05);
    }
    .review-stars {
      color: #ffaa00;
      margin-bottom: 5px;
    }
    .review-text {
      font-size: 0.9em;
    }
    .review-btn {
      background: #f0f0f0;
      color: #333;
      border: none;
      padding: 8px 15px;
      border-radius: 4px;
      cursor: pointer;
      margin-bottom: 10px;
    }
    .review-form {
      margin: 15px 0;
      padding: 10px;
      background: rgba(0,0,0,0.05);
      border-radius: 5px;
      display: none;
    }
    .star-rating {
      margin: 5px 0 10px 0;
      font-size: 24px;
      color: #ccc;
      cursor: pointer;
    }
    .star {
      display: inline-block;
      transition: transform 0.1s;
    }
    .star:hover {
      transform: scale(1.2);
    }
    .star.selected {
      color: #ffaa00;
    }
    .review-form textarea {
      width: 100%;
      padding: 8px;
      border: 1px solid #ddd;
      border-radius: 4px;
      margin: 5px 0;
      resize: vertical;
    }
    .review-form button {
      background: var(--secondary-color);
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 4px;
      cursor: pointer;
      margin-top: 5px;
    }
    .review-form button:hover {
      background: var(--accent-color);
    }
    .autocheck-timer {
      margin-top: 10px;
      font-size: 0.9em;
      color: #777;
    }

    /* FADE-IN */
    .fade-in-on-scroll {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.6s, transform 0.6s;
    }
    .fade-in-on-scroll.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* SCROLL TOP */
    .scroll-top-btn {
      position: fixed; bottom: 20px; right: 20px;
      width: 40px; height: 40px; background: var(--primary-color);
      border: none; padding: 10px; border-radius: 50%;
      font-size: 20px; cursor: pointer; display: none;
      z-index: 2000; transition: background 0.3s;
    }
    .scroll-top-btn:hover { background: #d00; }

    /* Адаптив */
    @media (max-width:768px) {
      .hero h1 { font-size:28px; }
      .hero p  { font-size:16px; }
      .btn { padding:12px24px; font-size:14px; }
      .nav-menu { flex-wrap:wrap; gap:10px; }
      .product-list { gap:20px; }
      .product-card { width:180px; padding:15px; }
    }
    @media (max-width:480px) {
      .hero { padding:60px0; }
      .hero h1 { font-size:24px; }
      .hero p  { font-size:14px; }
      .btn     { padding:10px20px; font-size:12px; }
      .product-card { width:150px; padding:10px; }
      .button-row { flex-direction:column; gap:8px; }
    }
  </style>
</head>

<body>
  <header class="header">
    <div class="nav container">
      <ul class="nav-menu">
        <li><a href="#hero" class="active">Главная</a></li>
        <li><a href="#support">Поддержка</a></li>
        <li><a href="offer.html">Соглашение</a></li>
        <li><a href="policy.html">Конфиденциальность</a></li>
      </ul>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero fade-in-on-scroll" id="hero">
    <div class="container">
      <h1>Mamostore - Clash Royale Gems</h1>
      <p>Покупайте гемы быстро и безопасно, без переплат</p>
      <a href="#catalog" class="btn">Смотреть каталог</a>
    </div>
  </section>

  <!-- CATALOG -->
  <section class="catalog fade-in-on-scroll" id="catalog">
    <div class="container">
      <h2>Наш каталог гемов</h2>
      <div class="product-list">

        <!-- 1) 80 Gems -->
        <div class="product-card">
          <img src="https://i.imgur.com/Wafz0HZ.png" alt="80 Gems">
          <h3>80 Clash Royale Gems</h3>
          <p>Код на 80 гемов</p>
          <div class="price">149 руб.</div>
          <div class="button-row">
            <button class="details-btn" onclick="openDetailsModal('80 Clash Royale Gems','80Gems',149)">Подробнее</button>
            <button class="buy-btn" onclick="openPaymentModal('80 Clash Royale Gems',149)">Купить</button>
          </div>
        </div>

        <!-- 2) 500 Gems -->
        <div class="product-card">
          <img src="https://i.imgur.com/Wafz0HZ.png" alt="500 Gems">
          <h3>500 Clash Royale Gems</h3>
          <p>Код на 500 гемов</p>
          <div class="price">349 руб.</div>
          <div class="button-row">
            <button class="details-btn" onclick="openDetailsModal('500 Clash Royale Gems','500Gems',349)">Подробнее</button>
            <button class="buy-btn" onclick="openPaymentModal('500 Clash Royale Gems',349)">Купить</button>
          </div>
        </div>

        <!-- 3) 1200 Gems -->
        <div class="product-card">
          <img src="https://i.imgur.com/Wafz0HZ.png" alt="1200 Gems">
          <h3>1200 Clash Royale Gems</h3>
          <p>Код на 1200 гемов</p>
          <div class="price">649 руб.</div>
          <div class="button-row">
            <button class="details-btn" onclick="openDetailsModal('1200 Clash Royale Gems','1200Gems',649)">Подробнее</button>
            <button class="buy-btn" onclick="openPaymentModal('1200 Clash Royale Gems',649)">Купить</button>
          </div>
        </div>

        <!-- 4) 2500 Gems -->
        <div class="product-card">
          <img src="https://i.imgur.com/Wafz0HZ.png" alt="2500 Gems">
          <h3>2500 Clash Royale Gems</h3>
          <p>Код на 2500 гемов</p>
          <div class="price">1290 руб.</div>
          <div class="button-row">
            <button class="details-btn" onclick="openDetailsModal('2500 Clash Royale Gems','2500Gems',1290)">Подробнее</button>
            <button class="buy-btn" onclick="openPaymentModal('2500 Clash Royale Gems',1290)">Купить</button>
          </div>
        </div>

        <!-- 5) 5000 Gems -->
        <div class="product-card">
          <img src="https://i.imgur.com/Wafz0HZ.png" alt="5000 Gems">
          <h3>5000 Clash Royale Gems</h3>
          <p>Код на 5000 гемов</p>
          <div class="price">2490 руб.</div>
          <div class="button-row">
            <button class="details-btn" onclick="openDetailsModal('5000 Clash Royale Gems','5000Gems',2490)">Подробнее</button>
            <button class="buy-btn" onclick="openPaymentModal('5000 Clash Royale Gems',2490)">Купить</button>
          </div>
        </div>

        <!-- 6) 7000 Gems -->
        <div class="product-card">
          <img src="https://i.imgur.com/Wafz0HZ.png" alt="7000 Gems">
          <h3>7000 Clash Royale Gems</h3>
          <p>Код на 7000 гемов</p>
          <div class="price">3490 руб.</div>
          <div class="button-row">
            <button class="details-btn" onclick="openDetailsModal('7000 Clash Royale Gems','7000Gems',3490)">Подробнее</button>
            <button class="buy-btn" onclick="openPaymentModal('7000 Clash Royale Gems',3490)">Купить</button>
          </div>
        </div>

        <!-- 7) 14000 Gems -->
        <div class="product-card">
          <img src="https://i.imgur.com/Wafz0HZ.png" alt="14000 Gems">
          <h3>14000 Clash Royale Gems</h3>
          <p>Код на 14000 гемов</p>
          <div class="price">6490 руб.</div>
          <div class="button-row">
            <button class="details-btn" onclick="openDetailsModal('14000 Clash Royale Gems','14000Gems',6490)">Подробнее</button>
            <button class="buy-btn" onclick="openPaymentModal('14000 Clash Royale Gems',6490)">Купить</button>
          </div>
        </div>

        <!-- 8) Пропуск Royale -->
        <div class="product-card">
          <img src="https://i.imgur.com/YiEQnKd.png" alt="Pass Royale">
          <h3>Pass Royale</h3>
          <p>Пропуск на 1 сезон</p>
          <div class="price">499 руб.</div>
          <div class="button-row">
            <button class="details-btn" onclick="openDetailsModal('Pass Royale','PassRoyale',499)">Подробнее</button>
            <button class="buy-btn" onclick="openPaymentModal('Pass Royale',499)">Купить</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- INFO -->
  <section class="info fade-in-on-scroll" id="info">
    <div class="container">
      <h2>Как это работает?</h2>
      <ol>
        <li>Выберите подходящее количество гемов из каталога</li>
        <li>Нажмите на кнопку «Купить» и укажите свой e-mail</li>
        <li>Оплатите покупку любым удобным способом</li>
        <li>Получите код активации на указанную почту в течение 5-10 минут</li>
        <li>Активируйте код в игре через настройки или через официальный сайт Supercell</li>
        <li>Также вы можете ознакомиться с более подробным FAQ на нашем сайте <a href="faq.html" target="_blank">FAQ</a></li>
      </ol>
    </div>
  </section>

  <!-- SUPPORT -->
  <section class="support fade-in-on-scroll" id="support">
    <div class="container">
      <h2>Поддержка и контакты</h2>
      <p>Если возникли вопросы, свяжитесь с нами:</p>
      <div class="support-icons">
        <a href="https://t.me/Beast_brawl" target="_blank">
          <img src="https://i.imgur.com/x45z8on.png" alt="Telegram">
          Telegram
        </a>
        <a href="mailto:info@mamostore.ru">
          <img src="https://i.imgur.com/vsRyFJe.png" alt="Email">
          Почта
        </a>
        <a href="https://t.me/Beast_brawl" target="_blank">
          <img src="https://i.imgur.com/x45z8on.png" alt="Manager">
          Менеджер
        </a>
      </div>
      <p style="margin-top:20px;">Мы ответим в течение 24 часов. Спасибо за использование!</p>
    </div>
  </section>

  <!-- TERMS -->
  <section class="section-block fade-in-on-scroll" id="terms">
    <h1>Пользовательское соглашение (Оферта)</h1>
    <p>Настоящее соглашение является публичной офертой.</p>
    <p>Используя сайт (mamostore.ru), вы принимаете эти условия.</p>
    <p><em>Дата последнего обновления: 31.01.2025 Ознакомиться можно на нашем сайте - <a href="offer.html" target="_blank">Пользовательское соглашение</a></em></p>
  </section>

  <!-- PRIVACY -->
  <section class="section-block fade-in-on-scroll" id="privacy">
    <h1>Политика конфиденциальности</h1>
    <p>Определяет порядок обработки персональных данных (ФЗ-152) на сайте mamostore.ru</p>
    <p><em>Дата последнего обновления: 31.01.2025 Политика конфиденциальности Ознакомиться можно на нашем сайте - <a href="policy.html" target="_blank">Политика конфиденциальности</a></em></p>
  </section>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="container">
      <p>© 2025 Mamostore. Все права защищены.</p>
      <p>
        <strong>ИП Филимонов Михаил Николаевич</strong>, ИНН: 150204790739 |
        E-mail: info@mamostore.ru
      </p>
      <p>
        <a href="offer.html">Пользовательское соглашение</a> |
        <a href="policy.html">Политика конфиденциальности</a>
      </p>
      <p class="disclaimer">
        *Clash Royale — торговая марка Supercell. Не является официальным представительством Supercell.
      </p>
    </div>
  </footer>

  <!-- JavaScript без изменений, только генерация кода будет другой -->
  <script>
    // Изменить генерацию кода для Clash Royale
    function generateClashRoyaleCode(){
      const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
      let code="CR-";
      for(let i=0; i<10; i++){
        code += chars[Math.floor(Math.random()*chars.length)];
      }
      return code;
    }

    async function sendEmailWithCode(toEmail, itemName){
      let code= generateClashRoyaleCode();
      let params={
        to_email: toEmail,
        code: code,
        itemName: itemName,
        username: "Уважаемый клиент"
      };
      try{
        let r= await emailjs.send(EMAILJS_SERVICE_ID, EMAILJS_TEMPLATE_ID, params);
        document.getElementById('statusMsg').textContent=
          `Код (${code}) отправлен на ${toEmail}. Спасибо за покупку!`;
        recordPurchase(itemName);
        launchConfetti();
      } catch(e){
        console.error(e);
        document.getElementById('statusMsg').textContent=
          "Ошибка при отправке письма (EmailJS).";
      }
    }

    /* Остальной JavaScript остается без изменений */
  </script>
</body>
</html>